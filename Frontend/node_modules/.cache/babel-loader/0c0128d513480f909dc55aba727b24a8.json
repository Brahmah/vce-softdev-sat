{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/VSV/SAT/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _classCallCheck from\"/Applications/XAMPP/xamppfiles/htdocs/VSV/SAT/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Applications/XAMPP/xamppfiles/htdocs/VSV/SAT/Frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Applications/XAMPP/xamppfiles/htdocs/VSV/SAT/Frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Applications/XAMPP/xamppfiles/htdocs/VSV/SAT/Frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{useNavigate}from\"react-router-dom\";import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AreasView=/*#__PURE__*/function(_React$Component){_inherits(AreasView,_React$Component);var _super=_createSuper(AreasView);function AreasView(props){var _this;_classCallCheck(this,AreasView);_this=_super.call(this,props);_this.state={error:null,isLoaded:false,areas:[]};return _this;}_createClass(AreasView,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://localhost/VSV/SAT/API/areas.php\").then(function(res){return res.json();}).then(function(result){_this2.setState({isLoaded:true,areas:result.list});},// Note: it's important to handle errors here\n// instead of a catch() block so that we don't swallow\n// exceptions from actual bugs in components.\nfunction(error){_this2.setState({isLoaded:true,error:\"Error loading areas\"});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"areas-header\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"header networkingDeviceList\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Areas\"}),/*#__PURE__*/_jsx(\"span\",{className:\"header-badge\",children:\"38\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"devicesSearch\",style:{marginRight:\"140px\"},placeholder:\"Search Areas\",\"data-bind\":\"textInput: deviceSearchQuery, event:{ change: $root.filterNetworkingDevices}\"}),/*#__PURE__*/_jsx(AddAreaButton,{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mdc-layout-grid cards-areas-grid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mdc-layout-grid__inner\",children:this.state.areas.map(function(area){return/*#__PURE__*/_jsx(AreaCard,{area:area},area.id);})})})]});}}]);return AreasView;}(React.Component);export{AreasView as default};function AreaCard(props){var navigate=useNavigate();var area=props.area;function handleClick(){navigate(\"/areas/\"+area.id);}return/*#__PURE__*/_jsx(\"div\",{className:\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4\",style:{textDecoration:'none'},onClick:handleClick,children:/*#__PURE__*/_jsxs(\"div\",{className:\"mdc-card mdc-card__primary-action\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mdc-card__primary-action\",tabIndex:\"0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mdc-card__media mdc-card__media--square\",style:{backgroundColor:area.backgroundColor}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mdc-card__supporting-text\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mdc-card__title mdc-card__title--large\",children:area.name}),/*#__PURE__*/_jsx(\"h3\",{className:\"mdc-card__subtitle\",style:{color:'#9e9e9e'},children:area.description})]})]})});}function AddAreaButton(props){// isModalOpen state\nvar _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isModalOpen=_React$useState2[0],setIsModalOpen=_React$useState2[1];function toggleModal(){setIsModalOpen(!isModalOpen);}// area name state\nvar _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),areaName=_React$useState4[0],setAreaName=_React$useState4[1];function handleAreaNameChange(event){setAreaName(event.target.value);}// area description state\nvar _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),areaDescription=_React$useState6[0],setAreaDescription=_React$useState6[1];function handleAreaDescriptionChange(event){setAreaDescription(event.target.value);}// add area click handler\nfunction handleAddAreaClick(){$.ajax({url:\"http://localhost/VSV/SAT/API/areas.php\",type:\"POST\",data:{name:areaName,description:areaDescription},success:function success(data){console.log(data);// close modal\nsetIsModalOpen(false);// refresh page\nwindow.location.reload();},error:function error(data){console.log(data);}});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{className:\"topBarActionButton\",onClick:toggleModal,children:[/*#__PURE__*/_jsx(\"span\",{className:\"mdc-fab__icon material-icons\",children:\"add\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mdc-fab__label\",children:\"Add Area\"})]}),/*#__PURE__*/_jsx(\"div\",{className:'topBarActionPopoverArrowUp',style:{visibility:isModalOpen?'visible':'hidden'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"topBarActionPopover\",style:{visibility:isModalOpen?'visible':'hidden'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add Area\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:'Name',disabled:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:'propertyInput',placeholder:'Front Office',value:areaName,onChange:handleAreaNameChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:'Description',disabled:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:'propertyInput',placeholder:'D2.1 | Glenroy Campus',value:areaDescription,onChange:handleAreaDescriptionChange}),/*#__PURE__*/_jsx(\"button\",{className:'actionButton',onClick:handleAddAreaClick,children:\"Add\"})]})]});}","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/VSV/SAT/Frontend/src/views/areas.js"],"names":["React","useNavigate","$","AreasView","props","state","error","isLoaded","areas","fetch","then","res","json","result","setState","list","marginRight","map","area","id","Component","AreaCard","navigate","handleClick","textDecoration","backgroundColor","name","color","description","AddAreaButton","useState","isModalOpen","setIsModalOpen","toggleModal","areaName","setAreaName","handleAreaNameChange","event","target","value","areaDescription","setAreaDescription","handleAreaDescriptionChange","handleAddAreaClick","ajax","url","type","data","success","console","log","window","location","reload","visibility"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport $ from \"jquery\";\n\nexport default class AreasView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      areas: [],\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost/VSV/SAT/API/areas.php\")\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            isLoaded: true,\n            areas: result.list,\n          });\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error: \"Error loading areas\",\n          });\n        }\n      );\n  }\n\n  render() {\n    return (\n      <div>\n        {/*Header Bar With Search*/}\n        <div className=\"areas-header\">\n          <span className=\"header networkingDeviceList\">\n            <span>\n              <span>Areas</span>\n              <span className=\"header-badge\">38</span>\n            </span>\n            <input\n              type=\"text\"\n              className=\"devicesSearch\"\n              style={{marginRight: \"140px\"}}\n              placeholder=\"Search Areas\"\n              data-bind=\"textInput: deviceSearchQuery, event:{ change: $root.filterNetworkingDevices}\"\n            />\n              <AddAreaButton/>\n          </span>\n        </div>\n        {/*Area Cards */}\n        <div className=\"mdc-layout-grid cards-areas-grid\">\n          <div className=\"mdc-layout-grid__inner\">\n            {this.state.areas.map((area) => (\n              <AreaCard key={area.id} area={area} />\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction AreaCard(props) {\n  const navigate = useNavigate();\n  const area = props.area;\n\n  function handleClick() {\n    navigate(\"/areas/\" + area.id);\n  }\n\n  return (\n      <div className=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4\" style={{textDecoration: 'none'}} onClick={handleClick}>\n          <div className=\"mdc-card mdc-card__primary-action\">\n              <div className=\"mdc-card__primary-action\" tabIndex=\"0\">\n                  <div className=\"mdc-card__media mdc-card__media--square\"\n                       style={{backgroundColor: area.backgroundColor}}>\n                  </div>\n              </div>\n              <div className=\"mdc-card__supporting-text\">\n                  <h2 className=\"mdc-card__title mdc-card__title--large\">{area.name}</h2>\n                  <h3 className=\"mdc-card__subtitle\" style={{color: '#9e9e9e'}}>{area.description}</h3>\n              </div>\n          </div>\n      </div>\n  );\n}\n\nfunction AddAreaButton(props) {\n    // isModalOpen state\n    const [isModalOpen, setIsModalOpen] = React.useState(false);\n    function toggleModal() {\n        setIsModalOpen(!isModalOpen)\n    }\n    // area name state\n    const [areaName, setAreaName] = React.useState(\"\");\n    function handleAreaNameChange(event) {\n        setAreaName(event.target.value);\n    }\n    // area description state\n    const [areaDescription, setAreaDescription] = React.useState(\"\");\n    function handleAreaDescriptionChange(event) {\n        setAreaDescription(event.target.value);\n    }\n    // add area click handler\n    function handleAddAreaClick() {\n        $.ajax({\n            url: \"http://localhost/VSV/SAT/API/areas.php\",\n            type: \"POST\",\n            data: {\n                name: areaName,\n                description: areaDescription\n            },\n            success: function (data) {\n                console.log(data);\n                // close modal\n                setIsModalOpen(false);\n                // refresh page\n                window.location.reload();\n            },\n            error: function (data) {\n                console.log(data);\n            }\n        });\n    }\n\n    return (\n        <div>\n            <button className=\"topBarActionButton\" onClick={toggleModal}>\n                <span className=\"mdc-fab__icon material-icons\">add</span>\n                <span className=\"mdc-fab__label\">Add Area</span>\n            </button>\n            <div className={'topBarActionPopoverArrowUp'} style={{visibility: isModalOpen ? 'visible' : 'hidden'}}/>\n            <div className=\"topBarActionPopover\" style={{visibility: isModalOpen ? 'visible' : 'hidden'}}>\n                <h3>Add Area</h3>\n                <input type='text' placeholder={'Name'} disabled={true}/>\n                <input type='text' className={'propertyInput'} placeholder={'Front Office'} value={areaName} onChange={handleAreaNameChange}/>\n                <input type='text' placeholder={'Description'} disabled={true}/>\n                <input type='text' className={'propertyInput'} placeholder={'D2.1 | Glenroy Campus'} value={areaDescription} onChange={handleAreaDescriptionChange}/>\n                <button className={'actionButton'} onClick={handleAddAreaClick}>Add</button>\n            </div>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}