{"ast":null,"code":"import React from 'react';\n\nvar useDebounce = function (data, interval) {\n  var _a = React.useState(data),\n      liveData = _a[0],\n      setLiveData = _a[1];\n\n  React.useEffect(function () {\n    if (typeof window !== 'undefined') {\n      var handler_1 = window.setTimeout(function () {\n        setLiveData(data);\n      }, interval);\n      return function () {\n        window.clearTimeout(handler_1);\n      };\n    }\n  }, [data, interval]);\n  return liveData;\n};\n\nvar useAutosave = function (_a) {\n  var data = _a.data,\n      onSave = _a.onSave,\n      _b = _a.interval,\n      interval = _b === void 0 ? 2000 : _b;\n  var valueOnCleanup = React.useRef(data);\n  var initialRender = React.useRef(true);\n  var debouncedValueToSave = useDebounce(data, interval);\n  React.useEffect(function () {\n    if (initialRender.current) {\n      initialRender.current = false;\n    } else if (debouncedValueToSave) {\n      onSave(debouncedValueToSave);\n    }\n  }, [debouncedValueToSave, onSave]);\n  React.useEffect(function () {\n    valueOnCleanup.current = data;\n  }, [data]);\n  React.useEffect(function () {\n    return function () {\n      onSave(valueOnCleanup.current);\n    };\n  }, [onSave]);\n};\n\nvar Autosave = function (_a) {\n  var data = _a.data,\n      onSave = _a.onSave,\n      _b = _a.interval,\n      interval = _b === void 0 ? 2000 : _b,\n      _c = _a.element,\n      element = _c === void 0 ? React.createElement(React.Fragment, null) : _c;\n  useAutosave({\n    data: data,\n    onSave: onSave,\n    interval: interval\n  });\n  return element;\n};\n\nexport { Autosave, useAutosave, useDebounce };","map":{"version":3,"sources":["/Users/bashirrahmah/Desktop/Random Projects/vsv_react_app/vsv-react-app/node_modules/react-autosave/index.es.js"],"names":["React","useDebounce","data","interval","_a","useState","liveData","setLiveData","useEffect","window","handler_1","setTimeout","clearTimeout","useAutosave","onSave","_b","valueOnCleanup","useRef","initialRender","debouncedValueToSave","current","Autosave","_c","element","createElement","Fragment"],"mappings":"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","sourcesContent":["import React from 'react';\n\nvar useDebounce = function (data, interval) {\r\n    var _a = React.useState(data), liveData = _a[0], setLiveData = _a[1];\r\n    React.useEffect(function () {\r\n        if (typeof window !== 'undefined') {\r\n            var handler_1 = window.setTimeout(function () {\r\n                setLiveData(data);\r\n            }, interval);\r\n            return function () {\r\n                window.clearTimeout(handler_1);\r\n            };\r\n        }\r\n    }, [data, interval]);\r\n    return liveData;\r\n};\n\nvar useAutosave = function (_a) {\r\n    var data = _a.data, onSave = _a.onSave, _b = _a.interval, interval = _b === void 0 ? 2000 : _b;\r\n    var valueOnCleanup = React.useRef(data);\r\n    var initialRender = React.useRef(true);\r\n    var debouncedValueToSave = useDebounce(data, interval);\r\n    React.useEffect(function () {\r\n        if (initialRender.current) {\r\n            initialRender.current = false;\r\n        }\r\n        else if (debouncedValueToSave) {\r\n            onSave(debouncedValueToSave);\r\n        }\r\n    }, [debouncedValueToSave, onSave]);\r\n    React.useEffect(function () {\r\n        valueOnCleanup.current = data;\r\n    }, [data]);\r\n    React.useEffect(function () {\r\n        return function () {\r\n            onSave(valueOnCleanup.current);\r\n        };\r\n    }, [onSave]);\r\n};\n\nvar Autosave = function (_a) {\r\n    var data = _a.data, onSave = _a.onSave, _b = _a.interval, interval = _b === void 0 ? 2000 : _b, _c = _a.element, element = _c === void 0 ? React.createElement(React.Fragment, null) : _c;\r\n    useAutosave({ data: data, onSave: onSave, interval: interval });\r\n    return element;\r\n};\n\nexport { Autosave, useAutosave, useDebounce };\n"]},"metadata":{},"sourceType":"module"}