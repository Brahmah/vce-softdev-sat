{"ast":null,"code":"import _classCallCheck from\"/Applications/XAMPP/xamppfiles/htdocs/SAT_BRH/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Applications/XAMPP/xamppfiles/htdocs/SAT_BRH/Frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Applications/XAMPP/xamppfiles/htdocs/SAT_BRH/Frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Applications/XAMPP/xamppfiles/htdocs/SAT_BRH/Frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Applications/XAMPP/xamppfiles/htdocs/SAT_BRH/Frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _toConsumableArray from\"/Applications/XAMPP/xamppfiles/htdocs/SAT_BRH/Frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React from\"react\";import{Line}from\"react-chartjs-2\";import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend}from\"chart.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend);var options={responsive:true,plugins:{legend:{position:\"top\"},title:{display:false}},scales:{y:{max:105,min:0,ticks:{beginAtZero:true}}}};var loadingChart={data:{labels:_toConsumableArray(Array(10).keys()).map(function(x){return\"Loading...\";}),datasets:[{label:\"Uptime\",data:[0],borderColor:\"grey\",backgroundColor:\"grey\"}]}};var UptimeChart=/*#__PURE__*/function(_React$Component){_inherits(UptimeChart,_React$Component);var _super=_createSuper(UptimeChart);function UptimeChart(props){var _this;_classCallCheck(this,UptimeChart);_this=_super.call(this,props);_this.toggleSelectedChartType=_this.toggleSelectedChartType.bind(_assertThisInitialized(_this));// https://stackoverflow.com/a/32317459\n_this.state={chartType:\"Hourly\",uptimeChart:loadingChart};return _this;}_createClass(UptimeChart,[{key:\"componentDidMount\",value:function componentDidMount(){this.getUptime();}},{key:\"getUptime\",value:function getUptime(){var _this2=this;this.setState({uptimeChart:loadingChart});fetch(\"http://localhost/VSV/SAT/API/getEntityUptime.php?id=\".concat(this.props.entityId,\"&type=\").concat(this.state.chartType)).then(function(res){return res.json();}).then(function(result){_this2.setState({uptimeChart:{data:result.data}});});}},{key:\"toggleSelectedChartType\",value:function toggleSelectedChartType(){if(this.state.chartType===\"Hourly\"){this.setState({chartType:\"Daily\"});}else{this.setState({chartType:\"Hourly\"});}this.getUptime();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Uptime\"}),/*#__PURE__*/_jsx(\"a\",{className:\"link\",style:{float:\"right\"},onClick:this.toggleSelectedChartType,children:this.state.chartType})]}),/*#__PURE__*/_jsx(Line,{options:options,data:this.state.uptimeChart.data,width:\"656px\",height:\"328px\",style:{display:\"block\",boxSizing:\"border-box\",height:\"164px\",width:\"328px\"}})]});}}]);return UptimeChart;}(React.Component);export{UptimeChart as default};","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/SAT_BRH/Frontend/src/components/uptimeChart.js"],"names":["React","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","register","options","responsive","plugins","legend","position","title","display","scales","y","max","min","ticks","beginAtZero","loadingChart","data","labels","Array","keys","map","x","datasets","label","borderColor","backgroundColor","UptimeChart","props","toggleSelectedChartType","bind","state","chartType","uptimeChart","getUptime","setState","fetch","entityId","then","res","json","result","float","boxSizing","height","width","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from \"chart.js\";\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nconst options = {\n  responsive: true,\n  plugins: {\n    legend: {\n      position: \"top\",\n    },\n    title: {\n      display: false,\n    },\n  },\n  scales: { y: { max: 105, min: 0, ticks: { beginAtZero: true } } },\n};\n\nconst loadingChart = {\n  data: {\n    labels: [...Array(10).keys()].map((x) => \"Loading...\"),\n    datasets: [\n      {\n        label: \"Uptime\",\n        data: [0],\n        borderColor: \"grey\",\n        backgroundColor: \"grey\",\n      },\n    ],\n  },\n};\n\nexport default class UptimeChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.toggleSelectedChartType = this.toggleSelectedChartType.bind(this); // https://stackoverflow.com/a/32317459\n    this.state = {\n      chartType: \"Hourly\",\n      uptimeChart: loadingChart,\n    };\n  }\n\n  componentDidMount() {\n    this.getUptime();\n  }\n\n  getUptime() {\n    this.setState({\n      uptimeChart: loadingChart,\n    });\n    fetch(\n      `http://localhost/VSV/SAT/API/getEntityUptime.php?id=${this.props.entityId}&type=${this.state.chartType}`\n    )\n      .then((res) => res.json())\n      .then((result) => {\n        this.setState({\n          uptimeChart: {\n            data: result.data,\n          },\n        });\n      });\n  }\n\n  toggleSelectedChartType() {\n    if (this.state.chartType === \"Hourly\") {\n      this.setState({\n        chartType: \"Daily\",\n      });\n    } else {\n      this.setState({\n        chartType: \"Hourly\",\n      });\n    }\n    this.getUptime();\n  }\n\n  render() {\n    return (\n      <div>\n        <h5>\n          <span>Uptime</span>\n          <a\n            className=\"link\"\n            style={{ float: \"right\" }}\n            onClick={this.toggleSelectedChartType}\n          >\n            {this.state.chartType}\n          </a>\n        </h5>\n\n        <Line\n          options={options}\n          data={this.state.uptimeChart.data}\n          width={\"656px\"}\n          height={\"328px\"}\n          style={{\n            display: \"block\",\n            boxSizing: \"border-box\",\n            height: \"164px\",\n            width: \"328px\",\n          }}\n        />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}