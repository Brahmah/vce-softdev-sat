{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/VSV/SAT/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _classCallCheck from\"/Applications/XAMPP/xamppfiles/htdocs/VSV/SAT/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Applications/XAMPP/xamppfiles/htdocs/VSV/SAT/Frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Applications/XAMPP/xamppfiles/htdocs/VSV/SAT/Frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Applications/XAMPP/xamppfiles/htdocs/VSV/SAT/Frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EntityField=/*#__PURE__*/function(_React$Component){_inherits(EntityField,_React$Component);var _super=_createSuper(EntityField);function EntityField(props){var _this;_classCallCheck(this,EntityField);_this=_super.call(this,props);_this.state={};return _this;}_createClass(EntityField,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"table\",{className:\"entity-field\",children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{id:\"field-label-status-\"+this.props.field.htmlId,children:this.props.field.label})}),/*#__PURE__*/_jsx(\"td\",{style:{width:'1%'},children:this.props.field.type===\"select\"?/*#__PURE__*/_jsx(EntityField_Select,{field:this.props.field}):/*#__PURE__*/_jsx(EntityField_Common,{field:this.props.field})})]})})});}}]);return EntityField;}(React.Component);export{EntityField as default};var EntityField_Select=/*#__PURE__*/function(_React$Component2){_inherits(EntityField_Select,_React$Component2);var _super2=_createSuper(EntityField_Select);function EntityField_Select(props){var _this2;_classCallCheck(this,EntityField_Select);_this2=_super2.call(this,props);_this2.state={};return _this2;}_createClass(EntityField_Select,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"select\",{id:this.props.field.htmlId,style:{marginLeft:\"inherit\"},children:[/*#__PURE__*/_jsx(\"option\",{value:\"f\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dd\",children:\"Front Balcony\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dd\",children:\"Front Hdff\"})]});}}]);return EntityField_Select;}(React.Component);function EntityField_Common(props){// autosave timing\nvar _React$useState=React.useState(props.field.value),_React$useState2=_slicedToArray(_React$useState,2),fieldText=_React$useState2[0],setFieldText=_React$useState2[1];// autosave response handling\nvar _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),cssStatusResponse=_React$useState4[0],setCssStatusResponse=_React$useState4[1];function handleChange(newValue){setFieldText(newValue);// check if save timeouts exists\nif(!window.saveTimeouts){window.saveTimeouts={};}// clear save timeout as the user is editing\nif(window.saveTimeouts[props.field.parentEntityId])window.clearTimeout(window.saveTimeouts[props.field.parentEntityId]);// Store the timeout id again\nwindow.saveTimeouts[props.field.parentEntityId]=window.setTimeout(function(){console.log('Saving '+props.field.parentEntityId);$.get(\"http://localhost/VSV/SAT/API/saveEntityField.php\",{entityId:props.field.parentEntityId,fieldId:props.field.htmlId,value:fieldText},function(response){setCssStatusResponse(response.cssStatus);if(response.success===true){setTimeout(function(){if(newValue!==props.field.value){setCssStatusResponse(\"\");}},3000);}});},400);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{id:props.field.htmlId,type:props.field.type,value:fieldText,placeholder:props.field.placeholder,onChange:function onChange(e){return handleChange(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:cssStatusResponse}})]});}","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/VSV/SAT/Frontend/src/components/entityField.js"],"names":["React","$","EntityField","props","state","field","htmlId","label","width","type","Component","EntityField_Select","marginLeft","EntityField_Common","useState","value","fieldText","setFieldText","cssStatusResponse","setCssStatusResponse","handleChange","newValue","window","saveTimeouts","parentEntityId","clearTimeout","setTimeout","console","log","get","entityId","fieldId","response","cssStatus","success","placeholder","e","target","__html"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport $ from \"jquery\";\n\nexport default class EntityField extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <table className=\"entity-field\">\n        <tbody>\n          <tr>\n            <td>\n              <span id={\"field-label-status-\" + this.props.field.htmlId}>\n                {this.props.field.label}\n              </span>\n            </td>\n            <td style={{width: '1%'}}>\n              {this.props.field.type === \"select\" ? (\n                <EntityField_Select field={this.props.field} />\n              ) : (\n                <EntityField_Common field={this.props.field} />\n              )}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    );\n  }\n}\n\nclass EntityField_Select extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <select\n        id={this.props.field.htmlId}\n        style={{\n          marginLeft: \"inherit\",\n        }}\n      >\n        <option value=\"f\">Select</option>\n        <option value=\"dd\">Front Balcony</option>\n        <option value=\"dd\">Front Hdff</option>\n      </select>\n    );\n  }\n}\n\nfunction EntityField_Common(props) {\n  // autosave timing\n  const [fieldText, setFieldText] = React.useState(props.field.value);\n  // autosave response handling\n  const [cssStatusResponse, setCssStatusResponse] = React.useState(\"\");\n\n  function handleChange(newValue) {\n    setFieldText(newValue);\n      // check if save timeouts exists\n      if (!window.saveTimeouts) {\n          window.saveTimeouts = {};\n      }\n      // clear save timeout as the user is editing\n      if (window.saveTimeouts[props.field.parentEntityId]) window.clearTimeout(window.saveTimeouts[props.field.parentEntityId]);\n      // Store the timeout id again\n      window.saveTimeouts[props.field.parentEntityId] = window.setTimeout(() =>{\n          console.log('Saving ' + props.field.parentEntityId);\n          $.get(\n              \"http://localhost/VSV/SAT/API/saveEntityField.php\",\n              {\n                  entityId: props.field.parentEntityId,\n                  fieldId: props.field.htmlId,\n                  value: fieldText,\n              },\n              (response) => {\n                  setCssStatusResponse(response.cssStatus);\n                  if (response.success === true) {\n                      setTimeout(() => {\n                          if (newValue !== props.field.value) {\n                              setCssStatusResponse(\"\");\n                          }\n                      }, 3000);\n                  }\n              }\n          );\n      }, 400);\n  }\n\n  return (\n    <div>\n      <input\n        id={props.field.htmlId}\n        type={props.field.type}\n        value={fieldText}\n        placeholder={props.field.placeholder}\n        onChange={(e) => handleChange(e.target.value)}\n      />\n      <span dangerouslySetInnerHTML={{ __html: cssStatusResponse }} />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}